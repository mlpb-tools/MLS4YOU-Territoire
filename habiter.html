<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Habiter ‚Äî Mes Bons Plans & Trajets | MLS4YOU Territoire</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700;800&family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/lucide@0.263.1/dist/umd/lucide.min.js"></script>

  <style>
    :root{
      --red:#C62828;
      --yellow:#FFC928;
      --turq:#20B8AE;
      --mint:#BFEFE8;
      --orange:#FFB067;

      --ink:#101114;
      --muted: rgba(16,17,20,.72);
      --bg:#FFF9F0;
      --paper:#ffffff;

      --shadow: 0 18px 36px rgba(16,17,20,.10);
      --radius: 18px;
      --max: 980px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Montserrat',system-ui,-apple-system,sans-serif;
      background: var(--bg);
      color: var(--ink);
      overflow-x:hidden;
    }
    h1,h2,h3,.baloo{font-family:'Baloo 2',cursive; font-weight:800; letter-spacing:-.02em;}
    a{color:inherit}

    /* background blobs */
    .bg{
      position: fixed; inset:0; pointer-events:none; z-index:0; overflow:hidden;
    }
    .blob{position:absolute; border-radius:999px; filter: blur(2px); opacity:.65;}
    .b1{width:420px;height:420px; left:-160px; top:-140px; background:rgba(255,176,103,.30);}
    .b2{width:360px;height:360px; right:-140px; top:18%; background:rgba(255,201,40,.28);}
    .b3{width:520px;height:520px; left:-220px; bottom:-220px; background:rgba(198,40,40,.10);}
    .b4{width:320px;height:320px; right:-80px; bottom:-120px; background:rgba(255,176,103,.18);}

    .wrap{
      position: relative;
      z-index: 1;
      max-width: var(--max);
      margin: 18px auto 28px;
      padding: 0 16px 28px;
    }

    .frame{
      border-radius: 24px;
      overflow:hidden;
      border: 5px solid transparent;
      background-image:
        linear-gradient(rgba(255,255,255,.95), rgba(255,255,255,.95)),
        linear-gradient(135deg, var(--orange), var(--yellow), var(--red));
      background-origin: border-box;
      background-clip: padding-box, border-box;
      box-shadow: 0 22px 44px rgba(0,0,0,.10);
    }

    /* topbar */
    .topbar{
      padding: 14px 16px;
      background: #fff;
      border-bottom: 4px solid var(--orange);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .back{
      display:inline-flex; align-items:center; gap:10px;
      text-decoration:none;
      font-weight:900;
      font-size:12px;
      text-transform:uppercase;
      letter-spacing:.06em;
      color: var(--muted);
      padding:10px 12px;
      border-radius:999px;
      border:2px solid rgba(16,17,20,.10);
      background: #fff;
      transition:.18s ease;
      white-space:nowrap;
    }
    .back:hover{transform: translateY(-1px); border-color: var(--orange); color: var(--ink); box-shadow: 0 8px 18px rgba(16,17,20,.08);}
    .crumb{
      display:inline-flex; align-items:center; gap:8px;
      font-weight:900; font-size:12px; color: var(--muted);
      text-transform:uppercase; letter-spacing:.06em;
    }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      font-weight:900;
      padding:10px 12px;
      border-radius:999px;
      border: 3px solid var(--ink);
      background: rgba(255,176,103,.20);
      box-shadow: 6px 6px 0 rgba(16,17,20,.08);
      text-transform:uppercase;
      letter-spacing:.05em;
      font-size:12px;
      white-space:nowrap;
    }

    /* hero */
    .hero{ padding: 18px 16px 0; background:#fff; }
    .heroCard{
      position:relative;
      border-radius: 22px;
      padding: 18px 18px;
      border: 4px solid var(--ink);
      background: linear-gradient(180deg, rgba(255,176,103,.28), rgba(255,255,255,.92));
      box-shadow: 10px 10px 0 rgba(16,17,20,.08);
      overflow:hidden;
    }
    .grain{
      position:absolute; inset:0; opacity:.07; pointer-events:none;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    }
    .heroTop{ display:flex; align-items:flex-start; justify-content:space-between; gap:14px; }
    .kicker{
      display:inline-flex; align-items:center; gap:8px;
      background: var(--orange);
      color: var(--ink);
      font-weight:900;
      padding: 10px 12px;
      border-radius: 999px;
      border: 3px solid var(--ink);
      box-shadow: 6px 6px 0 rgba(16,17,20,.10);
      text-transform:uppercase;
      letter-spacing:.05em;
      font-size:12px;
    }
    .heroIcon{
      width: 44px; height:44px;
      border-radius: 14px;
      border: 3px solid var(--ink);
      background: #fff;
      display:flex; align-items:center; justify-content:center;
      box-shadow: 6px 6px 0 rgba(16,17,20,.08);
      flex:0 0 auto;
    }
    .heroIcon i{color: var(--red)}
    .title{
      margin: 14px 0 6px;
      font-size: clamp(26px, 4vw, 38px);
      line-height:1.0;
      text-transform:uppercase;
    }
    .subtitle{
      margin: 0;
      font-weight:800;
      color: var(--muted);
      max-width: 88ch;
      line-height:1.4;
    }
    .callout{
      margin-top: 14px;
      padding: 14px 14px;
      border-radius: 16px;
      border: 3px dashed rgba(16,17,20,.25);
      background: rgba(255,255,255,.92);
      font-weight:900;
      color: var(--ink);
    }

    /* board + map */
    .board{ padding: 16px; background:#fff; }
    .layout{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 14px;
      align-items:start;
    }

    .card{
      border-radius: var(--radius);
      border: 3px solid var(--ink);
      background: var(--paper);
      box-shadow: 10px 10px 0 rgba(16,17,20,.08);
      overflow:hidden;
    }
    .cardHead{
      padding: 12px 14px;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      border-bottom: 3px solid rgba(16,17,20,.12);
      background: rgba(255,201,40,.18);
    }
    .cardHead.orange{ background: rgba(255,176,103,.22); }
    .cardHead h3{
      margin:0;
      font-size: 16px;
      text-transform:uppercase;
      letter-spacing:.03em;
      line-height:1.1;
    }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      background:#fff;
      border:2px solid rgba(16,17,20,.10);
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:.05em;
      font-size: 11px;
      white-space:nowrap;
    }
    .dot{width:12px;height:12px;border-radius:999px;}
    .dot.o{background:var(--orange)}
    .dot.y{background:var(--yellow)}
    .dot.r{background:var(--red)}

    .cardBody{ padding: 14px; }

    label{
      display:block;
      font-weight:900;
      font-size: 12px;
      text-transform:uppercase;
      letter-spacing:.06em;
      margin: 10px 0 6px;
      color: rgba(16,17,20,.85);
    }
    input[type="text"], textarea{
      width:100%;
      border: 3px solid rgba(16,17,20,.14);
      border-radius: 14px;
      padding: 12px 12px;
      font-family: inherit;
      font-size: 14px;
      font-weight:700;
      background: rgba(255,255,255,.92);
      outline:none;
      transition: .15s ease;
    }
    textarea{ min-height: 84px; resize: vertical; }
    textarea:focus, input[type="text"]:focus{
      border-color: var(--orange);
      box-shadow: 0 0 0 6px rgba(255,176,103,.22);
    }
    .row2{ display:grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .row3{ display:grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; }
    .smallHint{ margin-top: 10px; font-size: 12px; color: var(--muted); font-weight:800; }

    /* mini map */
    .mapCard{ position:sticky; top:14px; }
    .map{
      position:relative;
      height: 420px;
      border-radius: 18px;
      border: 4px solid var(--ink);
      background:
        radial-gradient(circle at 18% 22%, rgba(255,176,103,.35) 0 32%, transparent 33%),
        radial-gradient(circle at 78% 30%, rgba(255,201,40,.32) 0 30%, transparent 31%),
        radial-gradient(circle at 62% 78%, rgba(198,40,40,.14) 0 34%, transparent 35%),
        linear-gradient(180deg, rgba(250,250,250,1), rgba(255,255,255,.92));
      box-shadow: 10px 10px 0 rgba(16,17,20,.08);
      overflow:hidden;
    }
    .map::after{
      content:"";
      position:absolute; inset:0;
      opacity:.07;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
      pointer-events:none;
    }
    .pin{
      position:absolute;
      display:flex;
      align-items:center;
      gap:8px;
      padding: 10px 10px;
      border-radius: 14px;
      border: 3px solid var(--ink);
      background: rgba(255,255,255,.95);
      box-shadow: 8px 8px 0 rgba(16,17,20,.06);
      font-weight:900;
      font-size: 12px;
      max-width: 190px;
    }
    .pin .pico{
      width:28px;height:28px;border-radius:12px;
      border: 3px solid var(--ink);
      display:flex;align-items:center;justify-content:center;
      flex:0 0 auto;
      background: rgba(255,201,40,.35);
    }
    .pin.o .pico{ background: rgba(255,176,103,.42); }
    .pin.y .pico{ background: rgba(255,201,40,.42); }
    .pin.r .pico{ background: rgba(198,40,40,.18); }
    .pin i{ width:16px;height:16px;color: rgba(16,17,20,.78); }

    .pin1{ left: 18px; top: 22px;}
    .pin2{ right: 18px; top: 54px;}
    .pin3{ left: 26px; bottom: 24px;}
    .route{
      position:absolute;
      left: 60px; top: 170px;
      width: 70%;
      height: 4px;
      border-radius:999px;
      background: repeating-linear-gradient(90deg, var(--orange) 0 14px, transparent 14px 22px);
      opacity:.8;
      transform: rotate(-10deg);
    }
    .coin{
      position:absolute;
      right: 16px; bottom: 16px;
      display:flex; align-items:center; gap:10px;
      padding:10px 12px;
      border-radius: 999px;
      border: 3px solid var(--ink);
      background: rgba(255,176,103,.20);
      box-shadow: 8px 8px 0 rgba(16,17,20,.06);
      font-weight:900;
      font-size: 12px;
    }

    /* actions */
    .actions{
      padding: 14px 16px 18px;
      background:#fff;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      border-top: 3px solid rgba(16,17,20,.10);
    }
    .note{
      font-size: 12px;
      font-weight:900;
      color: var(--muted);
      max-width: 92ch;
      line-height:1.4;
    }
    .btns{display:flex; gap:10px; flex-wrap:wrap;}
    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:.06em;
      display:inline-flex;
      align-items:center;
      gap:10px;
      box-shadow: 0 10px 20px rgba(16,17,20,.10);
      transition:.18s ease;
      text-decoration:none;
    }
    .btn:hover{ transform: translateY(-2px); box-shadow: 0 16px 28px rgba(16,17,20,.14); }
    .btn-primary{ background: var(--ink); color:#fff; }
    .btn-orange{ background: var(--orange); color: var(--ink); }
    .btn-ghost{ background:#fff; color: var(--ink); border: 3px solid rgba(16,17,20,.14); }

    @media (max-width: 920px){
      .badge{display:none;}
    }
    @media (max-width: 860px){
      .layout{ grid-template-columns: 1fr; }
      .mapCard{ position:relative; top:auto; }
      .row3{ grid-template-columns: 1fr; }
      .row2{ grid-template-columns: 1fr; }
      .map{ height: 340px; }
    }
  </style>
</head>

<body>
  <div class="bg" aria-hidden="true">
    <div class="blob b1"></div><div class="blob b2"></div><div class="blob b3"></div><div class="blob b4"></div>
  </div>

  <main class="wrap">
    <section class="frame">

      <div class="topbar">
        <a class="back" href="index.html">
          <i data-lucide="arrow-left" style="width:18px;height:18px;"></i>
          Retour
        </a>
        <div class="crumb">
          <i data-lucide="map" style="width:18px;height:18px;"></i>
          Habiter
          <!-- BOUTON SUPPORT PDF HABITER -->
<div style="margin-top:14px; display:flex; flex-wrap:wrap; gap:10px;">

  <a
    href="./assets/pdfs/Habiter_Professionnellement.pdf"
    target="_blank"
    rel="noopener"
    style="
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:12px 16px;
      border-radius:999px;
      font-weight:800;
      text-decoration:none;
      background:#FFB067;
      color:#101114;
      border:3px solid #101114;
      box-shadow:6px 6px 0 rgba(0,0,0,0.12);
      transition:transform .15s ease, box-shadow .15s ease, background .15s ease;
    "
    onmouseover="
      this.style.transform='translateY(-2px)';
      this.style.background='#FFC928';
      this.style.boxShadow='10px 10px 0 rgba(0,0,0,0.12)';
    "
    onmouseout="
      this.style.transform='translateY(0)';
      this.style.background='#FFB067';
      this.style.boxShadow='6px 6px 0 rgba(0,0,0,0.12)';
    "
  >
    üó∫ Support ‚Äî Habiter professionnellement
    <span style="opacity:.85; font-weight:700;">(PDF)</span>
  </a>

</div>

        </div>
        <div class="badge">
          <span style="display:inline-flex;align-items:center;gap:8px;">
            <span style="width:10px;height:10px;border-radius:999px;background:var(--orange);display:inline-block;"></span>
            Bons plans + trajets + plan B
          </span>
        </div>
      </div>

      <section class="hero">
        <div class="heroCard">
          <div class="grain" aria-hidden="true"></div>

          <div class="heroTop">
            <div class="kicker">
              <i data-lucide="route" style="width:18px;height:18px;"></i>
              Module 3 ‚Äî HABITER
            </div>
            <div class="heroIcon" aria-hidden="true">
              <i data-lucide="euro" style="width:22px;height:22px;"></i>
            </div>
          </div>

          <h1 class="title">MES BONS PLANS &amp; TRAJETS ‚Äî Rendre mon projet possible</h1>
          <p class="subtitle">
            Ici, tu fais ton <strong>plan concret</strong> : transport, logement, √©conomies, gal√®res possibles‚Ä¶ et surtout ton <strong>plan B</strong>.
            C‚Äôest √ßa qui te rend cr√©dible.
          </p>

          <div class="callout">
            üëâ <strong>Anticiper = √™tre cr√©dible pour un employeur.</strong>
          </div>
        </div>
      </section>

      <section class="board">
        <div class="layout">

          <!-- left column: forms -->
          <div style="display:flex; flex-direction:column; gap:14px;">

            <!-- TRANSPORT -->
            <article class="card">
              <div class="cardHead orange">
                <h3>üöó Mes solutions transport</h3>
                <span class="chip"><span class="dot o"></span>Trajets</span>
              </div>
              <div class="cardBody">
                <div class="row2">
                  <div>
                    <label for="bus">Bus ligne :</label>
                    <input id="bus" type="text" placeholder="Ex : L40 / L28 / ligne Txik Txak‚Ä¶">
                  </div>
                  <div>
                    <label for="train">Train gare :</label>
                    <input id="train" type="text" placeholder="Ex : gare de Bayonne / St-Jean‚Ä¶">
                  </div>
                </div>

                <div class="row2">
                  <div>
                    <label for="covoit">Covoiturage avec :</label>
                    <input id="covoit" type="text" placeholder="Ex : coll√®gue / ami / appli / arr√™t covoit‚Ä¶">
                  </div>
                  <div>
                    <label for="velo">Scooter / v√©lo / marche :</label>
                    <input id="velo" type="text" placeholder="Ex : v√©lo + 10 min / scooter pr√™t√©‚Ä¶">
                  </div>
                </div>

                <label for="permis">Aide permis possible :</label>
                <input id="permis" type="text" placeholder="Ex : Mission Locale / CPF / aides locales‚Ä¶">

                <div class="smallHint">
                  ‚úÖ Mets des infos concr√®tes : <strong>horaires</strong>, <strong>dur√©e</strong>, <strong>co√ªt</strong>.
                </div>
              </div>
            </article>

            <!-- LOGEMENT -->
            <article class="card">
              <div class="cardHead" style="background: rgba(255,201,40,.18);">
                <h3>üè† Mes solutions logement</h3>
                <span class="chip"><span class="dot y"></span>Logement</span>
              </div>
              <div class="cardBody">
                <div class="row2">
                  <div>
                    <label for="famille">Famille possible :</label>
                    <input id="famille" type="text" placeholder="Ex : chez tante 2 mois / d√©pannage‚Ä¶">
                  </div>
                  <div>
                    <label for="coloc">Coloc possible :</label>
                    <input id="coloc" type="text" placeholder="Ex : ami / recherche / secteur‚Ä¶">
                  </div>
                </div>

                <div class="row2">
                  <div>
                    <label for="foyer">Foyer jeune :</label>
                    <input id="foyer" type="text" placeholder="Ex : FJT / r√©sidence jeune‚Ä¶">
                  </div>
                  <div>
                    <label for="temporaire">Solution temporaire :</label>
                    <input id="temporaire" type="text" placeholder="Ex : h√©bergement court / saison‚Ä¶">
                  </div>
                </div>

                <div class="smallHint">
                  üí° L‚Äôid√©e : avoir <strong>une option rapide</strong> si ton projet d√©marre demain.
                </div>
              </div>
            </article>

            <!-- ECONOMIES -->
            <article class="card">
              <div class="cardHead orange">
                <h3>üí∞ Mes solutions √©conomies</h3>
                <span class="chip"><span class="dot o"></span>‚Ç¨</span>
              </div>
              <div class="cardBody">
                <div class="row2">
                  <div>
                    <label for="epicerie">√âpicerie sociale :</label>
                    <input id="epicerie" type="text" placeholder="Ex : o√π / horaires / conditions‚Ä¶">
                  </div>
                  <div>
                    <label for="aides">Aides possibles :</label>
                    <input id="aides" type="text" placeholder="Ex : aides transport / logement / CAF‚Ä¶">
                  </div>
                </div>

                <div class="row2">
                  <div>
                    <label for="food">Bons plans nourriture :</label>
                    <input id="food" type="text" placeholder="Ex : paniers anti-gaspi / cantine‚Ä¶">
                  </div>
                  <div>
                    <label for="transportBp">Bons plans transport :</label>
                    <input id="transportBp" type="text" placeholder="Ex : abonnements / r√©duction / covoit‚Ä¶">
                  </div>
                </div>

                <div class="smallHint">
                  ‚úÖ Objectif : r√©duire tes d√©penses ‚Äúfixes‚Äù pour tenir dans la dur√©e.
                </div>
              </div>
            </article>

            <!-- GALERES + PLAN B -->
            <article class="card">
              <div class="cardHead" style="background: rgba(198,40,40,.12);">
                <h3>‚ö† Mes gal√®res possibles</h3>
                <span class="chip"><span class="dot r"></span>Risques</span>
              </div>
              <div class="cardBody">
                <label for="galeres">Liste (simple + r√©aliste)</label>
                <textarea id="galeres" placeholder="Ex : horaires transport compliqu√©s / budget serr√© / distance travail / fatigue / retard‚Ä¶"></textarea>

                <div class="smallHint">
                  üí° Une gal√®re pr√©vue = une gal√®re g√©rable.
                </div>

                <div style="height:12px;"></div>

                <div class="sentenceBox" style="border-radius:18px;border:3px solid rgba(16,17,20,.16);background:rgba(255,176,103,.16);padding:14px;box-shadow:10px 10px 0 rgba(16,17,20,.06);">
                  <h3 style="margin:0 0 8px; font-size:16px; text-transform:uppercase;">üõü Mon plan B</h3>

                  <div class="row3">
                    <div>
                      <label for="planBus">Si je rate bus ‚Üí</label>
                      <input id="planBus" type="text" placeholder="Ex : covoit / v√©lo / appeler‚Ä¶">
                    </div>
                    <div>
                      <label for="planLog">Si probl√®me logement ‚Üí</label>
                      <input id="planLog" type="text" placeholder="Ex : famille / FJT / solution‚Ä¶">
                    </div>
                    <div>
                      <label for="planPanne">Si panne voiture ‚Üí</label>
                      <input id="planPanne" type="text" placeholder="Ex : bus + covoit / d√©pannage‚Ä¶">
                    </div>
                  </div>

                  <div style="margin-top:10px; padding:12px; border-radius:14px; border:2px dashed rgba(16,17,20,.22); background:#fff; font-weight:900; color:rgba(16,17,20,.85); line-height:1.35;">
                    ‚úÖ Ton message pro : <span style="color:var(--red);">‚ÄúJ‚Äôai anticip√© mes trajets et mes plans B, je serai fiable.‚Äù</span>
                  </div>
                </div>

              </div>
            </article>

          </div>

          <!-- right column: simple map visual -->
          <aside class="mapCard">
            <div class="map" aria-label="Carte simple (visuel p√©dagogique)">
              <div class="route" aria-hidden="true"></div>

              <div class="pin pin1 y">
                <div class="pico"><i data-lucide="train"></i></div>
                <div>Gare / bus<br><span style="opacity:.7;font-weight:900;">horaires + co√ªt</span></div>
              </div>

              <div class="pin pin2 o">
                <div class="pico"><i data-lucide="car"></i></div>
                <div>Covoit / v√©hicule<br><span style="opacity:.7;font-weight:900;">plan A / plan B</span></div>
              </div>

              <div class="pin pin3 r">
                <div class="pico"><i data-lucide="alert-triangle"></i></div>
                <div>Gal√®re possible<br><span style="opacity:.7;font-weight:900;">solution pr√©vue</span></div>
              </div>

              <div class="coin">
                <i data-lucide="euro" style="width:18px;height:18px;"></i>
                Budget ma√Ætris√©
              </div>
            </div>

            <div class="smallHint" style="margin-top:10px;">
              üó∫Ô∏è Version ‚Äúterrain‚Äù : tu peux aussi reporter √ßa dans <strong>My Maps</strong> (calque ‚ÄúBons plans & trajets‚Äù).
            </div>
          </aside>

        </div>
      </section>

      <div class="actions">
        <div class="note">
          üëâ <strong>Phrase p√©dagogique :</strong> Anticiper = √™tre cr√©dible pour un employeur.
          <span style="opacity:.9;">(Tu montres que tu as pr√©vu le r√©el : transport, logement, budget, impr√©vus.)</span>
        </div>
        <div class="btns">
          <button class="btn btn-ghost" type="button" onclick="resetForm()">
            <i data-lucide="rotate-ccw" style="width:18px;height:18px;"></i>
            R√©initialiser
          </button>
          <button class="btn btn-orange" type="button" onclick="saveLocal()">
            <i data-lucide="save" style="width:18px;height:18px;"></i>
            Sauver
          </button>
          <a class="btn btn-primary" href="soin.html">
            <i data-lucide="arrow-right" style="width:18px;height:18px;"></i>
            Continuer ‚Üí Prendre soin
          </a>
        </div>
      </div>

    </section>
  </main>

  <script>
    const KEY = "mls4you_territoire_habiter_v1";
    function qs(id){ return document.getElementById(id); }

    function getFields(){
      return {
        bus: qs('bus').value.trim(),
        train: qs('train').value.trim(),
        covoit: qs('covoit').value.trim(),
        velo: qs('velo').value.trim(),
        permis: qs('permis').value.trim(),

        famille: qs('famille').value.trim(),
        coloc: qs('coloc').value.trim(),
        foyer: qs('foyer').value.trim(),
        temporaire: qs('temporaire').value.trim(),

        epicerie: qs('epicerie').value.trim(),
        aides: qs('aides').value.trim(),
        food: qs('food').value.trim(),
        transportBp: qs('transportBp').value.trim(),

        galeres: qs('galeres').value.trim(),

        planBus: qs('planBus').value.trim(),
        planLog: qs('planLog').value.trim(),
        planPanne: qs('planPanne').value.trim(),

        savedAt: new Date().toISOString()
      };
    }

    function setFields(d){
      if(!d) return;
      [
        'bus','train','covoit','velo','permis',
        'famille','coloc','foyer','temporaire',
        'epicerie','aides','food','transportBp',
        'galeres','planBus','planLog','planPanne'
      ].forEach(k => { if(qs(k)) qs(k).value = d[k] || ""; });
    }

    function saveLocal(){
      try{
        localStorage.setItem(KEY, JSON.stringify(getFields()));
        toast("Sauvegard√© ‚úÖ");
      }catch(e){
        toast("Impossible de sauvegarder ‚ùå");
      }
    }

    function resetForm(){
      if(!confirm("R√©initialiser tout le contenu ?")) return;
      localStorage.removeItem(KEY);
      setFields({});
      toast("R√©initialis√©");
    }

    function toast(text){
      const t = document.createElement('div');
      t.textContent = text;
      t.style.position = 'fixed';
      t.style.left = '50%';
      t.style.bottom = '18px';
      t.style.transform = 'translateX(-50%)';
      t.style.background = 'rgba(16,17,20,.92)';
      t.style.color = 'white';
      t.style.padding = '12px 14px';
      t.style.borderRadius = '14px';
      t.style.fontWeight = '900';
      t.style.letterSpacing = '.04em';
      t.style.zIndex = '9999';
      t.style.boxShadow = '0 14px 28px rgba(0,0,0,.18)';
      document.body.appendChild(t);
      setTimeout(()=>{ t.style.opacity = '0'; t.style.transition='opacity .25s ease'; }, 1100);
      setTimeout(()=>{ t.remove(); }, 1500);
    }

    // autosave
    const ids = [
      'bus','train','covoit','velo','permis',
      'famille','coloc','foyer','temporaire',
      'epicerie','aides','food','transportBp',
      'galeres','planBus','planLog','planPanne'
    ];
    ids.forEach(id=>{
      const el = qs(id);
      if(!el) return;
      el.addEventListener('input', ()=>{ try{ localStorage.setItem(KEY, JSON.stringify(getFields())); }catch{} });
      el.addEventListener('change', ()=>{ try{ localStorage.setItem(KEY, JSON.stringify(getFields())); }catch{} });
    });

    window.addEventListener('load', function(){
      try{
        const saved = JSON.parse(localStorage.getItem(KEY) || "null");
        if(saved) setFields(saved);
      }catch{}
      if (typeof lucide !== 'undefined') lucide.createIcons();
    });
  </script>
</body>
</html>
