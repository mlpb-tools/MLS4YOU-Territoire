<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Prendre soin ‚Äî Mes Ressources Zaintza | MLS4YOU Territoire</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700;800&family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/lucide@0.263.1/dist/umd/lucide.min.js"></script>

  <style>
    :root{
      --red:#C62828;
      --green:#2E7D32;
      --green2:#43A047;
      --turq:#20B8AE;
      --mint:#BFEFE8;
      --yellow:#FFC928;
      --orange:#FFB067;

      --ink:#101114;
      --muted: rgba(16,17,20,.72);
      --bg:#FFF9F0;
      --paper:#ffffff;

      --max: 980px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Montserrat',system-ui,-apple-system,sans-serif;
      background: var(--bg);
      color: var(--ink);
      overflow-x:hidden;
    }
    h1,h2,h3,.baloo{font-family:'Baloo 2',cursive; font-weight:800; letter-spacing:-.02em;}
    a{color:inherit}

    /* background */
    .bg{
      position: fixed; inset:0; pointer-events:none; z-index:0; overflow:hidden;
    }
    .blob{position:absolute; border-radius:999px; filter: blur(2px); opacity:.65;}
    .b1{width:420px;height:420px; left:-160px; top:-140px; background:rgba(191,239,232,.35);}
    .b2{width:360px;height:360px; right:-140px; top:18%; background:rgba(46,125,50,.18);}
    .b3{width:520px;height:520px; left:-220px; bottom:-220px; background:rgba(198,40,40,.10);}
    .b4{width:320px;height:320px; right:-80px; bottom:-120px; background:rgba(255,201,40,.14);}

    .wrap{
      position: relative;
      z-index: 1;
      max-width: var(--max);
      margin: 18px auto 28px;
      padding: 0 16px 28px;
    }

    .frame{
      border-radius: 24px;
      overflow:hidden;
      border: 5px solid transparent;
      background-image:
        linear-gradient(rgba(255,255,255,.95), rgba(255,255,255,.95)),
        linear-gradient(135deg, var(--green), var(--turq), var(--red));
      background-origin: border-box;
      background-clip: padding-box, border-box;
      box-shadow: 0 22px 44px rgba(0,0,0,.10);
    }

    /* topbar */
    .topbar{
      padding: 14px 16px;
      background: #fff;
      border-bottom: 4px solid var(--green);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .back{
      display:inline-flex; align-items:center; gap:10px;
      text-decoration:none;
      font-weight:900;
      font-size:12px;
      text-transform:uppercase;
      letter-spacing:.06em;
      color: var(--muted);
      padding:10px 12px;
      border-radius:999px;
      border:2px solid rgba(16,17,20,.10);
      background: #fff;
      transition:.18s ease;
      white-space:nowrap;
    }
    .back:hover{
      transform: translateY(-1px);
      border-color: var(--green);
      color: var(--ink);
      box-shadow: 0 8px 18px rgba(16,17,20,.08);
    }
    .crumb{
      display:inline-flex; align-items:center; gap:8px;
      font-weight:900; font-size:12px; color: var(--muted);
      text-transform:uppercase; letter-spacing:.06em;
    }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      font-weight:900;
      padding:10px 12px;
      border-radius:999px;
      border: 3px solid var(--ink);
      background: rgba(46,125,50,.12);
      box-shadow: 6px 6px 0 rgba(16,17,20,.08);
      text-transform:uppercase;
      letter-spacing:.05em;
      font-size:12px;
      white-space:nowrap;
    }

    /* hero */
    .hero{ padding: 18px 16px 0; background:#fff; }
    .heroCard{
      position:relative;
      border-radius: 22px;
      padding: 18px 18px;
      border: 4px solid var(--ink);
      background: linear-gradient(180deg, rgba(191,239,232,.55), rgba(255,255,255,.92));
      box-shadow: 10px 10px 0 rgba(16,17,20,.08);
      overflow:hidden;
    }
    .grain{
      position:absolute; inset:0; opacity:.07; pointer-events:none;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    }
    .heroTop{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
    }
    .kicker{
      display:inline-flex; align-items:center; gap:8px;
      background: var(--green2);
      color: #fff;
      font-weight:900;
      padding: 10px 12px;
      border-radius: 999px;
      border: 3px solid var(--ink);
      box-shadow: 6px 6px 0 rgba(16,17,20,.10);
      text-transform:uppercase;
      letter-spacing:.05em;
      font-size:12px;
    }
    .heroIcon{
      width: 44px; height:44px;
      border-radius: 14px;
      border: 3px solid var(--ink);
      background: #fff;
      display:flex; align-items:center; justify-content:center;
      box-shadow: 6px 6px 0 rgba(16,17,20,.08);
      flex:0 0 auto;
    }
    .heroIcon i{color: var(--red)}
    .title{
      margin: 14px 0 6px;
      font-size: clamp(26px, 4vw, 38px);
      line-height:1.0;
      text-transform:uppercase;
    }
    .subtitle{
      margin: 0;
      font-weight:800;
      color: var(--muted);
      max-width: 92ch;
      line-height:1.4;
    }
    .callout{
      margin-top: 14px;
      padding: 14px 14px;
      border-radius: 16px;
      border: 3px dashed rgba(16,17,20,.25);
      background: rgba(255,255,255,.92);
      font-weight:900;
      color: var(--ink);
    }

    /* board */
    .board{ padding: 16px; background:#fff; }

    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      align-items: start;
    }

    .panel{
      border-radius: 18px;
      border: 3px solid var(--ink);
      background: #fff;
      box-shadow: 10px 10px 0 rgba(16,17,20,.08);
      overflow:hidden;
    }
    .head{
      padding: 12px 14px;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      border-bottom: 3px solid rgba(16,17,20,.12);
    }
    .head.green{ background: rgba(46,125,50,.12); }
    .head.red{ background: rgba(198,40,40,.10); }
    .head h3{
      margin:0;
      font-size: 16px;
      text-transform:uppercase;
      letter-spacing:.03em;
      line-height:1.1;
      display:flex; align-items:center; gap:10px;
    }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      background:#fff;
      border:2px solid rgba(16,17,20,.10);
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:.05em;
      font-size: 11px;
      white-space:nowrap;
    }
    .dot{width:12px;height:12px;border-radius:999px;}
    .dot.g{background:var(--green2)}
    .dot.r{background:var(--red)}

    .body{ padding: 14px; }

    label{
      display:block;
      font-weight:900;
      font-size: 12px;
      text-transform:uppercase;
      letter-spacing:.06em;
      margin: 10px 0 6px;
      color: rgba(16,17,20,.85);
    }
    input[type="text"], textarea{
      width:100%;
      border: 3px solid rgba(16,17,20,.14);
      border-radius: 14px;
      padding: 12px 12px;
      font-family: inherit;
      font-size: 14px;
      font-weight:700;
      background: rgba(255,255,255,.92);
      outline:none;
      transition: .15s ease;
    }
    textarea{ min-height: 92px; resize: vertical; }
    textarea:focus, input[type="text"]:focus{
      box-shadow: 0 0 0 6px rgba(32,184,174,.18);
      border-color: var(--turq);
    }

    .examples{
      margin-top: 10px;
      padding: 12px;
      border-radius: 16px;
      border: 2px dashed rgba(16,17,20,.22);
      background: rgba(191,239,232,.22);
      font-weight:900;
      color: rgba(16,17,20,.85);
      line-height:1.4;
      font-size: 12px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius:999px;
      background:#fff;
      border:2px solid rgba(16,17,20,.10);
      margin: 6px 6px 0 0;
      font-weight:900;
      font-size: 11px;
      text-transform:uppercase;
      letter-spacing:.04em;
    }

    .alertBox{
      margin-top: 14px;
      border-radius: 18px;
      border: 3px solid rgba(16,17,20,.16);
      background: rgba(255,201,40,.14);
      padding: 14px;
      box-shadow: 10px 10px 0 rgba(16,17,20,.06);
    }
    .alertBox h3{ margin:0 0 8px; font-size:16px; text-transform:uppercase; }
    .hint{ margin-top: 10px; font-size: 12px; color: var(--muted); font-weight:800; }

    /* footer actions */
    .actions{
      padding: 14px 16px 18px;
      background:#fff;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      border-top: 3px solid rgba(16,17,20,.10);
    }
    .note{
      font-size: 12px;
      font-weight:900;
      color: var(--muted);
      max-width: 92ch;
      line-height:1.4;
    }
    .btns{display:flex; gap:10px; flex-wrap:wrap;}
    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:.06em;
      display:inline-flex;
      align-items:center;
      gap:10px;
      box-shadow: 0 10px 20px rgba(16,17,20,.10);
      transition:.18s ease;
      text-decoration:none;
    }
    .btn:hover{ transform: translateY(-2px); box-shadow: 0 16px 28px rgba(16,17,20,.14); }
    .btn-primary{ background: var(--ink); color:#fff; }
    .btn-green{ background: var(--green2); color: #fff; }
    .btn-ghost{ background:#fff; color: var(--ink); border: 3px solid rgba(16,17,20,.14); }

    @media (max-width: 920px){
      .badge{display:none;}
    }
    @media (max-width: 860px){
      .grid{ grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <div class="bg" aria-hidden="true">
    <div class="blob b1"></div><div class="blob b2"></div><div class="blob b3"></div><div class="blob b4"></div>
  </div>

  <main class="wrap">
    <section class="frame">

      <div class="topbar">
        <a class="back" href="index.html">
          <i data-lucide="arrow-left" style="width:18px;height:18px;"></i>
          Retour
        </a>
        <div class="crumb">
          <i data-lucide="heart-handshake" style="width:18px;height:18px;"></i>
          Prendre soin
        </div>
        <div class="badge">
          <span style="display:inline-flex;align-items:center;gap:8px;">
            <span style="width:10px;height:10px;border-radius:999px;background:var(--green2);display:inline-block;"></span>
            Zaintza = durer
          </span>
        </div>
      </div>
<!-- BOUTON SUPPORT PDF ROBUSTESSE / SOIN -->
<div style="margin-top:14px; display:flex; flex-wrap:wrap; gap:10px;">

  <a
    href="./assets/pdfs/Professional_Robustness.pdf"
    target="_blank"
    rel="noopener"
    style="
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:12px 16px;
      border-radius:999px;
      font-weight:800;
      text-decoration:none;
      background:#2E7D32;
      color:white;
      border:3px solid #101114;
      box-shadow:6px 6px 0 rgba(0,0,0,0.12);
      transition:transform .15s ease, box-shadow .15s ease, background .15s ease;
    "
    onmouseover="
      this.style.transform='translateY(-2px)';
      this.style.background='#C62828';
      this.style.boxShadow='10px 10px 0 rgba(0,0,0,0.12)';
    "
    onmouseout="
      this.style.transform='translateY(0)';
      this.style.background='#2E7D32';
      this.style.boxShadow='6px 6px 0 rgba(0,0,0,0.12)';
    "
  >
    üõ° Support ‚Äî Robustesse professionnelle
    <span style="opacity:.85; font-weight:700;">(PDF)</span>
  </a>

</div>

      <section class="hero">
        <div class="heroCard">
          <div class="grain" aria-hidden="true"></div>

          <div class="heroTop">
            <div class="kicker">
              <i data-lucide="shield" style="width:18px;height:18px;"></i>
              Module 4 ‚Äî PRENDRE SOIN
            </div>
            <div class="heroIcon" aria-hidden="true">
              <i data-lucide="heart-pulse" style="width:22px;height:22px;"></i>
            </div>
          </div>

          <h1 class="title">MES RESSOURCES ZAINTZA ‚Äî Tenir dans la dur√©e</h1>
          <p class="subtitle">
            Ici, tu construis ton <strong>filet de s√©curit√©</strong> : ce qui te recharge (vert) et ce qui t‚Äôaide si √ßa ne va pas (rouge).
            Objectif : <strong>tenir dans la dur√©e</strong> sans rupture.
          </p>

          <div class="callout">
            üëâ <strong>Se conna√Ætre = √©viter les ruptures.</strong>
          </div>
        </div>
      </section>

      <section class="board">
        <div class="grid">

          <!-- GREEN PANEL -->
          <article class="panel">
            <div class="head green">
              <h3>
                <span style="font-size:18px;">üü¢</span>
                Recharge (√©nergie mentale / physique)
              </h3>
              <span class="chip"><span class="dot g"></span>VERT</span>
            </div>

            <div class="body">
              <label for="lieux">Lieux nature o√π je me sens bien</label>
              <textarea id="lieux" placeholder="Ex : plage / for√™t / montagne / parc‚Ä¶ (o√π exactement ?)"></textarea>

              <label for="activites">Activit√©s qui me font du bien</label>
              <textarea id="activites" placeholder="Ex : sport / musique / cuisine / lecture / jeux vid√©o (raisonnable)‚Ä¶"></textarea>

              <label for="personnes">Personnes avec qui je d√©compresse</label>
              <textarea id="personnes" placeholder="Ex : ami / fr√®re / tante / coloc‚Ä¶ (qui, comment je les contacte ?)"></textarea>

              <label for="moments">Moments o√π je r√©cup√®re</label>
              <input id="moments" type="text" placeholder="Ex : le soir 20‚Äì22h / dimanche matin / apr√®s sport‚Ä¶">

              <div class="examples" aria-label="Exemples">
                <strong>Exemples (petit) :</strong><br>
                <span class="pill">Oc√©an</span>
                <span class="pill">Montagne</span>
                <span class="pill">Sport</span>
                <span class="pill">Musique</span>
                <span class="pill">Jeux vid√©o (raisonnable)</span>
                <span class="pill">Promenade</span>
              </div>

              <div class="hint">
                ‚úÖ Le but : avoir des solutions ‚Äúgratuites / accessibles‚Äù pour recharger vite.
              </div>
            </div>
          </article>

          <!-- RED PANEL -->
          <article class="panel">
            <div class="head red">
              <h3>
                <span style="font-size:18px;">üî¥</span>
                Soutien (si √ßa ne va pas)
              </h3>
              <span class="chip"><span class="dot r"></span>ROUGE</span>
            </div>

            <div class="body">
              <label for="pro">Pro sant√© que je peux voir</label>
              <textarea id="pro" placeholder="Ex : m√©decin / psy / infirmier / CMP‚Ä¶ (nom + comment prendre RDV)"></textarea>

              <label for="structures">Structures d‚Äôaide</label>
              <textarea id="structures" placeholder="Ex : Maison des Ados / assistante sociale / Mission Locale / association‚Ä¶"></textarea>

              <label for="confiance">Personne adulte de confiance</label>
              <input id="confiance" type="text" placeholder="Ex : pr√©nom + lien + comment je l‚Äôappelle">

              <label for="urgence">Num√©ro urgence</label>
              <input id="urgence" type="text" placeholder="Ex : 15 / 112 / 3114 (si besoin) / proche √† appeler">

              <div class="alertBox">
                <h3>üß© Mes signes d‚Äôalerte perso</h3>
                <label for="alertes" style="margin-top:0;">Quand √ßa commence √† d√©railler, je remarque :</label>
                <textarea id="alertes" placeholder="Ex : je me referme / je dors mal / je m‚Äô√©nerve vite / je d√©croche / je m‚Äôisole‚Ä¶"></textarea>

                <div class="hint">
                  üí° Astuce : si je vois 2 signes d‚Äôalerte ‚Üí j‚Äôactive 1 ressource verte + 1 ressource rouge.
                </div>
              </div>
            </div>
          </article>

        </div>
      </section>

      <div class="actions">
        <div class="note">
          üëâ <strong>Phrase p√©dagogique :</strong> Se conna√Ætre = √©viter les ruptures.
          <span style="opacity:.9;">(Tu rep√®res tes signes d‚Äôalerte + tu sais quoi activer.)</span>
        </div>
        <div class="btns">
          <button class="btn btn-ghost" type="button" onclick="resetForm()">
            <i data-lucide="rotate-ccw" style="width:18px;height:18px;"></i>
            R√©initialiser
          </button>
          <button class="btn btn-green" type="button" onclick="saveLocal()">
            <i data-lucide="save" style="width:18px;height:18px;"></i>
            Sauver
          </button>
          <a class="btn btn-primary" href="synthese.html">
            <i data-lucide="check-circle" style="width:18px;height:18px;"></i>
            Aller au passeport
          </a>
        </div>
      </div>

    </section>
  </main>

  <script>
    const KEY = "mls4you_territoire_soin_v1";
    function qs(id){ return document.getElementById(id); }

    function getFields(){
      return {
        lieux: qs('lieux').value.trim(),
        activites: qs('activites').value.trim(),
        personnes: qs('personnes').value.trim(),
        moments: qs('moments').value.trim(),

        pro: qs('pro').value.trim(),
        structures: qs('structures').value.trim(),
        confiance: qs('confiance').value.trim(),
        urgence: qs('urgence').value.trim(),

        alertes: qs('alertes').value.trim(),
        savedAt: new Date().toISOString()
      };
    }

    function setFields(d){
      if(!d) return;
      ['lieux','activites','personnes','moments','pro','structures','confiance','urgence','alertes']
        .forEach(k => { if(qs(k)) qs(k).value = d[k] || ""; });
    }

    function saveLocal(){
      try{
        localStorage.setItem(KEY, JSON.stringify(getFields()));
        toast("Sauvegard√© ‚úÖ");
      }catch(e){
        toast("Impossible de sauvegarder ‚ùå");
      }
    }

    function resetForm(){
      if(!confirm("R√©initialiser tout le contenu ?")) return;
      localStorage.removeItem(KEY);
      setFields({});
      toast("R√©initialis√©");
    }

    function toast(text){
      const t = document.createElement('div');
      t.textContent = text;
      t.style.position = 'fixed';
      t.style.left = '50%';
      t.style.bottom = '18px';
      t.style.transform = 'translateX(-50%)';
      t.style.background = 'rgba(16,17,20,.92)';
      t.style.color = 'white';
      t.style.padding = '12px 14px';
      t.style.borderRadius = '14px';
      t.style.fontWeight = '900';
      t.style.letterSpacing = '.04em';
      t.style.zIndex = '9999';
      t.style.boxShadow = '0 14px 28px rgba(0,0,0,.18)';
      document.body.appendChild(t);
      setTimeout(()=>{ t.style.opacity = '0'; t.style.transition='opacity .25s ease'; }, 1100);
      setTimeout(()=>{ t.remove(); }, 1500);
    }

    // autosave
    const ids = ['lieux','activites','personnes','moments','pro','structures','confiance','urgence','alertes'];
    ids.forEach(id=>{
      const el = qs(id);
      if(!el) return;
      el.addEventListener('input', ()=>{ try{ localStorage.setItem(KEY, JSON.stringify(getFields())); }catch{} });
      el.addEventListener('change', ()=>{ try{ localStorage.setItem(KEY, JSON.stringify(getFields())); }catch{} });
    });

    window.addEventListener('load', function(){
      try{
        const saved = JSON.parse(localStorage.getItem(KEY) || "null");
        if(saved) setFields(saved);
      }catch{}
      if (typeof lucide !== 'undefined') lucide.createIcons();
    });
  </script>
</body>
</html>
